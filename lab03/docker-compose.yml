services:
  php-api:
    image: php:8.3-apache
    volumes:
      - ./lab02prep/app:/var/www/html:ro
    env_file:
      - ./.env
    ports:
      - "8080:80"
    restart: unless-stopped

  cron-runner:
    build:
      context: .
    depends_on:
      - php-api
    env_file:
      - ./.env
    volumes:
      - ./data:/app/data
      - ./error.log:/app/error.log
    restart: unless-stopped
